//#FILENAME:index.ts:write-always
//
// GENERATED SOURCE - DO NOT EDIT
//
import { Server } from '@kapeta/sdk-server';

{{#providers-of-type 'kapeta/resource-type-rest-api'}}
import { {{type metadata.name}}Route } from './src/rest/{{type metadata.name}}Route';
import { {{type metadata.name}}RouteService } from './src/service/{{type metadata.name}}RouteService';
{{/providers-of-type}}

{{#providers-of-type 'kapeta/resource-type-grpc-api'}}
    import { {{type metadata.name}}Route } from './src/grpc/{{type metadata.name}}Route';
    import { {{type metadata.name}}RouteService } from './src/service/{{type metadata.name}}RouteService';
{{/providers-of-type}}

const server = new Server('{{data.metadata.name}}', __dirname);

{{#providers-of-type 'kapeta/resource-type-rest-api'}}
server.addRoute(
    new {{type metadata.name}}Route(
        new {{type metadata.name}}RouteService()
    )
);
{{/providers-of-type}}

{{#providers-of-type 'kapeta/resource-type-grpc-api'}}
server.addRoute(
    new {{type metadata.name}}Route(
        new {{type metadata.name}}RouteService()
    )
);
{{/providers-of-type}}

server.start('rest');