#FILENAME:kapeta.md:write-always
# Kapeta Readme
This file contains some structural information about this CLI block.

This file will be overwritten every time you change the CLI block definition in Kapeta.

## Folder Structure
This CLI block is structured as follows:

### Generated files
All files in the following folders are generated by Kapeta - and should not be edited manually.
* ```src/.generated/entities```: Contains the public entities used by the service.
{{#consumes 'kapeta/resource-type-rest-client'}}
* ```src/.generated/clients```: Contains REST Clients.
{{/consumes}}
* ```scripts/prepare-hosts.ts```: A script to prepare the hosts file for local development.

### Editable files
All other files are editable - and will not be overwritten by Kapeta unless explictly mentioned in the file.

* ```src/index```: Contains the programs starting point. This is where you should add your business logic.

### Path alias for generated files

To import generated files you can use the following path alias:
```typescript
import { MyEntity } from 'generated:entities/MyEntity';
```

{{#consumes 'kapeta/resource-type-rest-client'}}

## REST Clients
You'll find the REST clients in the following folder: ```src/.generated/client```

See below for details on how to use the REST clients.

{{#consumers-of-type 'kapeta/resource-type-rest-client'}}
### {{metadata.name}}
To use the "{{metadata.name}}" REST Client(s) - simply add the following code to your service:

```typescript
{{#prettier}}
import { initRestClients } from 'generated:clients';

const { {{#kaplang-rest-methods spec.source namespace=metadata.name}} {{lowerFirst (controller-name this)}}Client, {{/kaplang-rest-methods}} } = initRestClients();
{{/prettier}}
```
{{/consumers-of-type}}
{{/consumes}}
