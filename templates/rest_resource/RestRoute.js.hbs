//#FILENAME:src/rest/{{type data.metadata.name}}Route.js
//
// GENERATED SOURCE - DO NOT EDIT
//
const RestRoute = require('@blockware/rest-route');

class {{type data.metadata.name}}Route extends RestRoute {

    constructor( service ) {
        super();
        this._initRoutes(service);
    }

    _initRoutes(service) {
    {{#methods data.spec.methods}}
        if (!service.{{method methodName}}) {
            throw new Error('REST resource service for "{{type ../data.metadata.name}}" is missing method: "{{method methodName}}"');
        }

        this.addRoute(
            {
                method: '{{string method}}',
                path: '{{string path}}',
                description: '{{string description}}',
                arguments: {
                    {{#arguments arguments}}
                        {{variable argumentName}}: '{{string transport}}'
                    {{/arguments}}
                },
                handler: service.{{method methodName}}.bind(service)
            }
        );

    {{/methods}}

    }
}

module.exports = {{type data.metadata.name}}Route;